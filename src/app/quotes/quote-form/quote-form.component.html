<form [formGroup]="quoteForm" (ngSubmit)="submit()">
  <mat-form-field appearance="fill" class="full-width">
    <mat-label>Garment ID</mat-label>
    <input matInput formControlName="garmentId" placeholder="Enter Garment ID">
  </mat-form-field>

  <mat-form-field appearance="fill" class="full-width">
    <mat-label>Quantity</mat-label>
    <input matInput type="number" formControlName="garmentQuantity">
  </mat-form-field>

  <div formArrayName="graphics" class="graphics-container">
    <div *ngFor="let graphic of graphics.controls; let i=index" [formGroupName]="i" class="graphic-row">
      <mat-form-field appearance="fill">
        <mat-label>Number of Colors</mat-label>
        <input matInput type="number" formControlName="colorCount">
      </mat-form-field>
      <button mat-icon-button color="warn" type="button" (click)="removeGraphic(i)">
        <mat-icon>delete</mat-icon>
      </button>
    </div>
  </div>

  <button mat-button type="button" (click)="addGraphic()">Add Graphic</button>
  <button mat-raised-button color="primary" type="submit">Calculate Quote</button>
</form>

<div *ngIf="result$ | async as result" class="result-container">
  <h3>Quote Result</h3>
  <p>Final Piece Price: {{ result.finalPiecePrice | currency }}</p>
  <p>Total Quote Price: {{ result.totalQuotePrice | currency }}</p>
  <ul>
    <li *ngFor="let g of result.graphics">Graphic Colors: {{ g.colorCount }}</li>
  </ul>
</div>